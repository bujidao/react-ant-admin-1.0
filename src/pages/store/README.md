# Redux 学习笔记

React 只是DOM的一个抽象层，并不是web的完整解决方案，有两个方面没有涉及：

* 代码结构
* 组件之间的通信

对于大型应用，这两方面尤为重要，因此，React无法写大型应用。

为了解决这个方案， 2014年谷歌提出Flux这个概念。

## 一、是否需要Redux

Redux是一个有用的架构，但并不是非用不可。事实上，大多数情况，用react就可以了。

如果ui层比较简单，组件之间没有复杂的数据互动，Redux就没有必要，反而会增加编码的复杂性。

当项目比较庞大的时候，如果不使用Redux或者其他项目状态管理工具，代码很快就会变得难以维护。这个时候，就需要一种机制，这个机制可以在同一个地方查询状态、改变状态、传播状态的变化

当项目具有下面场景的情况的时候，才需要考虑使用Redux

* 用户的使用方式比较复杂(多个页面频繁切换，且需要用到共同的数据来源)
* 与服务器大量交互(可以将一些数据临时缓存起来)
* view层只从多个来源获取数据
* 某个组件的状态，需要全局共享，任何地方都能拿得到，且能改变其他组件的状态(组件数据交互)

Redux 使用场景总结： 多交互，多数据源

## 设计思想

* web应用是一个状态机，视图与状态一一对应
* 所有的状态，都保存在一个对象里面

## 基本概念

### store

store是保存数据的地方，相当于一个容器，一个应用只能有一个store树

redux提供`createStore`函数，用来生成store树

``` tsx
import { createStore } from 'redux';
const store = createStore(fn);
```
